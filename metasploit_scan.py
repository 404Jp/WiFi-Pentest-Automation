# metasploit_scan.py
import subprocess

def metasploit_scan(target_ip):
    # Inicia Metasploit y ejecuta un escaneo de vulnerabilidades
    msf_console_command = f"""
    use auxiliary/scanner/portscan/tcp
    set RHOSTS {target_ip}
    run
    """
    with open('msf_commands.rc', 'w') as file:
        file.write(msf_console_command)
    
    subprocess.run(['msfconsole', '-r', 'msf_commands.rc'])
